(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,24477,e=>{"use strict";e.s(["useBrands",()=>ej,"useCategories",()=>eg,"useCreateBrand",()=>eN,"useCreateCategory",()=>ex,"useCreateProduct",()=>e_,"useCreateStyle",()=>eS,"useProduct",()=>ef],24477),e.i(74094);var t,s,i,a,l,r,o,n,c,h,d,u,m,p,b,v,y,f,_,g,x,S,j,N,w,C,k,T,O,R,E=e.i(90258),M=e.i(76448),A=e.i(51942),D=e.i(90347),U=e.i(96346),I=e.i(9695),F=e.i(3573),q=e.i(35460),P=e.i(33408),W=e.i(56975),L=(t=new WeakMap,s=new WeakMap,i=new WeakMap,a=new WeakMap,l=new WeakSet,r=new WeakSet,class extends P.Subscribable{bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var s;let a=this.options;this.options=(0,M._)(this,t).defaultMutationOptions(e),(0,W.shallowEqualObjects)(this.options,a)||(0,M._)(this,t).getMutationCache().notify({type:"observerOptionsUpdated",mutation:(0,M._)(this,i),observer:this}),(null==a?void 0:a.mutationKey)&&this.options.mutationKey&&(0,W.hashKey)(a.mutationKey)!==(0,W.hashKey)(this.options.mutationKey)?this.reset():(null==(s=(0,M._)(this,i))?void 0:s.state.status)==="pending"&&(0,M._)(this,i).setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;null==(e=(0,M._)(this,i))||e.removeObserver(this)}}onMutationUpdate(e){(0,U._)(this,l,Q).call(this),(0,U._)(this,r,K).call(this,e)}getCurrentResult(){return(0,M._)(this,s)}reset(){var e;null==(e=(0,M._)(this,i))||e.removeObserver(this),(0,D._)(this,i,void 0),(0,U._)(this,l,Q).call(this),(0,U._)(this,r,K).call(this)}mutate(e,s){var l;return(0,D._)(this,a,s),null==(l=(0,M._)(this,i))||l.removeObserver(this),(0,D._)(this,i,(0,M._)(this,t).getMutationCache().build((0,M._)(this,t),this.options)),(0,M._)(this,i).addObserver(this),(0,M._)(this,i).execute(e)}constructor(e,o){super(),(0,I._)(this,l),(0,I._)(this,r),(0,A._)(this,t,{writable:!0,value:void 0}),(0,A._)(this,s,{writable:!0,value:void 0}),(0,A._)(this,i,{writable:!0,value:void 0}),(0,A._)(this,a,{writable:!0,value:void 0}),(0,D._)(this,t,e),this.setOptions(o),this.bindMethods(),(0,U._)(this,l,Q).call(this)}});function Q(){var e,t;let a=null!=(t=null==(e=(0,M._)(this,i))?void 0:e.state)?t:(0,F.getDefaultState)();(0,D._)(this,s,{...a,isPending:"pending"===a.status,isSuccess:"success"===a.status,isError:"error"===a.status,isIdle:"idle"===a.status,mutate:this.mutate,reset:this.reset})}function K(e){q.notifyManager.batch(()=>{if((0,M._)(this,a)&&this.hasListeners()){var i,l,r,o,n,c,h,d;let u=(0,M._)(this,s).variables,m=(0,M._)(this,s).context,p={client:(0,M._)(this,t),meta:this.options.meta,mutationKey:this.options.mutationKey};(null==e?void 0:e.type)==="success"?(null==(i=(l=(0,M._)(this,a)).onSuccess)||i.call(l,e.data,u,m,p),null==(r=(o=(0,M._)(this,a)).onSettled)||r.call(o,e.data,null,u,m,p)):(null==e?void 0:e.type)==="error"&&(null==(n=(c=(0,M._)(this,a)).onError)||n.call(c,e.error,u,m,p),null==(h=(d=(0,M._)(this,a)).onSettled)||h.call(d,void 0,e.error,u,m,p))}this.listeners.forEach(e=>{e((0,M._)(this,s))})})}var B=e.i(49245);function G(e,t){let s=(0,B.useQueryClient)(t),[i]=E.useState(()=>new L(s,e));E.useEffect(()=>{i.setOptions(e)},[i,e]);let a=E.useSyncExternalStore(E.useCallback(e=>i.subscribe(q.notifyManager.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),l=E.useCallback((e,t)=>{i.mutate(e,t).catch(W.noop)},[i]);if(a.error&&(0,W.shouldThrowError)(i.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:l,mutateAsync:a.mutate}}var H=e.i(94921),z=e.i(41048),Y=P,J=e.i(284),V=e.i(7183),X=(o=new WeakMap,n=new WeakMap,c=new WeakMap,h=new WeakMap,d=new WeakMap,u=new WeakMap,m=new WeakMap,p=new WeakMap,b=new WeakMap,v=new WeakMap,y=new WeakMap,f=new WeakMap,_=new WeakMap,g=new WeakMap,x=new WeakMap,S=new WeakSet,j=new WeakSet,N=new WeakSet,w=new WeakSet,C=new WeakSet,k=new WeakSet,T=new WeakSet,O=new WeakSet,R=new WeakSet,class extends Y.Subscribable{bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&((0,M._)(this,n).addObserver(this),Z((0,M._)(this,n),this.options)?(0,U._)(this,S,es).call(this):this.updateResult(),(0,U._)(this,C,er).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return $((0,M._)(this,n),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return $((0,M._)(this,n),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,(0,U._)(this,k,eo).call(this),(0,U._)(this,T,en).call(this),(0,M._)(this,n).removeObserver(this)}setOptions(e){let t=this.options,s=(0,M._)(this,n);if(this.options=(0,M._)(this,o).defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,W.resolveEnabled)(this.options.enabled,(0,M._)(this,n)))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");(0,U._)(this,O,ec).call(this),(0,M._)(this,n).setOptions(this.options),t._defaulted&&!(0,W.shallowEqualObjects)(this.options,t)&&(0,M._)(this,o).getQueryCache().notify({type:"observerOptionsUpdated",query:(0,M._)(this,n),observer:this});let i=this.hasListeners();i&&ee((0,M._)(this,n),s,this.options,t)&&(0,U._)(this,S,es).call(this),this.updateResult(),i&&((0,M._)(this,n)!==s||(0,W.resolveEnabled)(this.options.enabled,(0,M._)(this,n))!==(0,W.resolveEnabled)(t.enabled,(0,M._)(this,n))||(0,W.resolveStaleTime)(this.options.staleTime,(0,M._)(this,n))!==(0,W.resolveStaleTime)(t.staleTime,(0,M._)(this,n)))&&(0,U._)(this,j,ei).call(this);let a=(0,U._)(this,N,ea).call(this);i&&((0,M._)(this,n)!==s||(0,W.resolveEnabled)(this.options.enabled,(0,M._)(this,n))!==(0,W.resolveEnabled)(t.enabled,(0,M._)(this,n))||a!==(0,M._)(this,g))&&(0,U._)(this,w,el).call(this,a)}getOptimisticResult(e){var t,s;let i=(0,M._)(this,o).getQueryCache().build((0,M._)(this,o),e),a=this.createResult(i,e);return t=this,s=a,(0,W.shallowEqualObjects)(t.getCurrentResult(),s)||((0,D._)(this,h,a),(0,D._)(this,u,this.options),(0,D._)(this,d,(0,M._)(this,n).state)),a}getCurrentResult(){return(0,M._)(this,h)}trackResult(e,t){return new Proxy(e,{get:(e,s)=>(this.trackProp(s),null==t||t(s),"promise"!==s||this.options.experimental_prefetchInRender||"pending"!==(0,M._)(this,m).status||(0,M._)(this,m).reject(Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(e,s))})}trackProp(e){(0,M._)(this,x).add(e)}getCurrentQuery(){return(0,M._)(this,n)}refetch(){let{...e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({...e})}fetchOptimistic(e){let t=(0,M._)(this,o).defaultQueryOptions(e),s=(0,M._)(this,o).getQueryCache().build((0,M._)(this,o),t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){var t;return(0,U._)(this,S,es).call(this,{...e,cancelRefetch:null==(t=e.cancelRefetch)||t}).then(()=>(this.updateResult(),(0,M._)(this,h)))}createResult(e,t){let s,i=(0,M._)(this,n),a=this.options,l=(0,M._)(this,h),r=(0,M._)(this,d),o=(0,M._)(this,u),f=e!==i?e.state:(0,M._)(this,c),{state:_}=e,g={..._},x=!1;if(t._optimisticResults){let s=this.hasListeners(),l=!s&&Z(e,t),r=s&&ee(e,i,t,a);(l||r)&&(g={...g,...(0,z.fetchState)(_.data,e.options)}),"isRestoring"===t._optimisticResults&&(g.fetchStatus="idle")}let{error:S,errorUpdatedAt:j,status:N}=g;s=g.data;let w=!1;if(void 0!==t.placeholderData&&void 0===s&&"pending"===N){let e;if((null==l?void 0:l.isPlaceholderData)&&t.placeholderData===(null==o?void 0:o.placeholderData))e=l.data,w=!0;else{var C;e="function"==typeof t.placeholderData?t.placeholderData(null==(C=(0,M._)(this,y))?void 0:C.state.data,(0,M._)(this,y)):t.placeholderData}void 0!==e&&(N="success",s=(0,W.replaceData)(null==l?void 0:l.data,e,t),x=!0)}if(t.select&&void 0!==s&&!w)if(l&&s===(null==r?void 0:r.data)&&t.select===(0,M._)(this,b))s=(0,M._)(this,v);else try{(0,D._)(this,b,t.select),s=t.select(s),s=(0,W.replaceData)(null==l?void 0:l.data,s,t),(0,D._)(this,v,s),(0,D._)(this,p,null)}catch(e){(0,D._)(this,p,e)}(0,M._)(this,p)&&(S=(0,M._)(this,p),s=(0,M._)(this,v),j=Date.now(),N="error");let k="fetching"===g.fetchStatus,T="pending"===N,O="error"===N,R=T&&k,E=void 0!==s,A={status:N,fetchStatus:g.fetchStatus,isPending:T,isSuccess:"success"===N,isError:O,isInitialLoading:R,isLoading:R,data:s,dataUpdatedAt:g.dataUpdatedAt,error:S,errorUpdatedAt:j,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>f.dataUpdateCount||g.errorUpdateCount>f.errorUpdateCount,isFetching:k,isRefetching:k&&!T,isLoadingError:O&&!E,isPaused:"paused"===g.fetchStatus,isPlaceholderData:x,isRefetchError:O&&E,isStale:et(e,t),refetch:this.refetch,promise:(0,M._)(this,m),isEnabled:!1!==(0,W.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===A.status?e.reject(A.error):void 0!==A.data&&e.resolve(A.data)},s=()=>{t((0,D._)(this,m,A.promise=(0,J.pendingThenable)()))},a=(0,M._)(this,m);switch(a.status){case"pending":e.queryHash===i.queryHash&&t(a);break;case"fulfilled":("error"===A.status||A.data!==a.value)&&s();break;case"rejected":("error"!==A.status||A.error!==a.reason)&&s()}}return A}updateResult(){let e=(0,M._)(this,h),t=this.createResult((0,M._)(this,n),this.options);if((0,D._)(this,d,(0,M._)(this,n).state),(0,D._)(this,u,this.options),void 0!==(0,M._)(this,d).data&&(0,D._)(this,y,(0,M._)(this,n)),(0,W.shallowEqualObjects)(t,e))return;(0,D._)(this,h,t);let s=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,s="function"==typeof t?t():t;if("all"===s||!s&&!(0,M._)(this,x).size)return!0;let i=new Set(null!=s?s:(0,M._)(this,x));return this.options.throwOnError&&i.add("error"),Object.keys((0,M._)(this,h)).some(t=>(0,M._)(this,h)[t]!==e[t]&&i.has(t))};(0,U._)(this,R,eh).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&(0,U._)(this,C,er).call(this)}constructor(e,t){super(),(0,I._)(this,S),(0,I._)(this,j),(0,I._)(this,N),(0,I._)(this,w),(0,I._)(this,C),(0,I._)(this,k),(0,I._)(this,T),(0,I._)(this,O),(0,I._)(this,R),(0,A._)(this,o,{writable:!0,value:void 0}),(0,A._)(this,n,{writable:!0,value:void 0}),(0,A._)(this,c,{writable:!0,value:void 0}),(0,A._)(this,h,{writable:!0,value:void 0}),(0,A._)(this,d,{writable:!0,value:void 0}),(0,A._)(this,u,{writable:!0,value:void 0}),(0,A._)(this,m,{writable:!0,value:void 0}),(0,A._)(this,p,{writable:!0,value:void 0}),(0,A._)(this,b,{writable:!0,value:void 0}),(0,A._)(this,v,{writable:!0,value:void 0}),(0,A._)(this,y,{writable:!0,value:void 0}),(0,A._)(this,f,{writable:!0,value:void 0}),(0,A._)(this,_,{writable:!0,value:void 0}),(0,A._)(this,g,{writable:!0,value:void 0}),(0,A._)(this,x,{writable:!0,value:new Set}),this.options=t,(0,D._)(this,o,e),(0,D._)(this,p,null),(0,D._)(this,m,(0,J.pendingThenable)()),this.bindMethods(),this.setOptions(t)}});function Z(e,t){return!1!==(0,W.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&$(e,t,t.refetchOnMount)}function $(e,t,s){if(!1!==(0,W.resolveEnabled)(t.enabled,e)&&"static"!==(0,W.resolveStaleTime)(t.staleTime,e)){let i="function"==typeof s?s(e):s;return"always"===i||!1!==i&&et(e,t)}return!1}function ee(e,t,s,i){return(e!==t||!1===(0,W.resolveEnabled)(i.enabled,e))&&(!s.suspense||"error"!==e.state.status)&&et(e,s)}function et(e,t){return!1!==(0,W.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,W.resolveStaleTime)(t.staleTime,e))}function es(e){(0,U._)(this,O,ec).call(this);let t=(0,M._)(this,n).fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(W.noop)),t}function ei(){(0,U._)(this,k,eo).call(this);let e=(0,W.resolveStaleTime)(this.options.staleTime,(0,M._)(this,n));if(W.isServer||(0,M._)(this,h).isStale||!(0,W.isValidTimeout)(e))return;let t=(0,W.timeUntilStale)((0,M._)(this,h).dataUpdatedAt,e);(0,D._)(this,f,V.timeoutManager.setTimeout(()=>{(0,M._)(this,h).isStale||this.updateResult()},t+1))}function ea(){var e;return null!=(e="function"==typeof this.options.refetchInterval?this.options.refetchInterval((0,M._)(this,n)):this.options.refetchInterval)&&e}function el(e){(0,U._)(this,T,en).call(this),(0,D._)(this,g,e),!W.isServer&&!1!==(0,W.resolveEnabled)(this.options.enabled,(0,M._)(this,n))&&(0,W.isValidTimeout)((0,M._)(this,g))&&0!==(0,M._)(this,g)&&(0,D._)(this,_,V.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||H.focusManager.isFocused())&&(0,U._)(this,S,es).call(this)},(0,M._)(this,g)))}function er(){(0,U._)(this,j,ei).call(this),(0,U._)(this,w,el).call(this,(0,U._)(this,N,ea).call(this))}function eo(){(0,M._)(this,f)&&(V.timeoutManager.clearTimeout((0,M._)(this,f)),(0,D._)(this,f,void 0))}function en(){(0,M._)(this,_)&&(V.timeoutManager.clearInterval((0,M._)(this,_)),(0,D._)(this,_,void 0))}function ec(){let e=(0,M._)(this,o).getQueryCache().build((0,M._)(this,o),this.options);if(e===(0,M._)(this,n))return;let t=(0,M._)(this,n);(0,D._)(this,n,e),(0,D._)(this,c,e.state),this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}function eh(e){q.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e((0,M._)(this,h))}),(0,M._)(this,o).getQueryCache().notify({query:(0,M._)(this,n),type:"observerResultsUpdated"})})}e.i(12578);var ed=E.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),eu=E.createContext(!1);eu.Provider;var em=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function ep(e,t){return function(e,t,s){var i,a,l,r,o;let n=E.useContext(eu),c=E.useContext(ed),h=(0,B.useQueryClient)(s),d=h.defaultQueryOptions(e);if(null==(a=h.getDefaultOptions().queries)||null==(i=a._experimental_beforeQuery)||i.call(a,d),d._optimisticResults=n?"isRestoring":"optimistic",d.suspense){let e=e=>"static"===e?e:Math.max(null!=e?e:1e3,1e3),t=d.staleTime;d.staleTime="function"==typeof t?function(){for(var s=arguments.length,i=Array(s),a=0;a<s;a++)i[a]=arguments[a];return e(t(...i))}:e(t),"number"==typeof d.gcTime&&(d.gcTime=Math.max(d.gcTime,1e3))}(d.suspense||d.throwOnError||d.experimental_prefetchInRender)&&!c.isReset()&&(d.retryOnMount=!1),E.useEffect(()=>{c.clearReset()},[c]);let u=!h.getQueryCache().get(d.queryHash),[m]=E.useState(()=>new t(h,d)),p=m.getOptimisticResult(d),b=!n&&!1!==e.subscribed;if(E.useSyncExternalStore(E.useCallback(e=>{let t=b?m.subscribe(q.notifyManager.batchCalls(e)):W.noop;return m.updateResult(),t},[m,b]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),E.useEffect(()=>{m.setOptions(d)},[d,m]),(null==d?void 0:d.suspense)&&p.isPending)throw em(d,m,c);if((e=>{let{result:t,errorResetBoundary:s,throwOnError:i,query:a,suspense:l}=e;return t.isError&&!s.isReset()&&!t.isFetching&&a&&(l&&void 0===t.data||(0,W.shouldThrowError)(i,[t.error,a]))})({result:p,errorResetBoundary:c,throwOnError:d.throwOnError,query:h.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw p.error;if(null==(r=h.getDefaultOptions().queries)||null==(l=r._experimental_afterQuery)||l.call(r,d,p),d.experimental_prefetchInRender&&!W.isServer&&p.isLoading&&p.isFetching&&!n){let e=u?em(d,m,c):null==(o=h.getQueryCache().get(d.queryHash))?void 0:o.promise;null==e||e.catch(W.noop).finally(()=>{m.updateResult()})}return d.notifyOnChangeProps?p:m.trackResult(p)}(e,X,t)}var eb=e.i(98878);let ev="https://api.buyshopo.com/api",ey=async(e,t)=>{let s=(()=>{let e=localStorage.getItem("token");return console.log("ðŸ” Getting auth headers..."),console.log("  Token exists:",!!e),console.log("  Token preview:",e?e.substring(0,30)+"...":"NO TOKEN"),{"Content-Type":"application/json",...e?{Authorization:"Bearer ".concat(e)}:{}}})();console.log("ðŸ“¡ API Request:"),console.log("  URL:","".concat(ev).concat(e)),console.log("  Method:",(null==t?void 0:t.method)||"GET"),console.log("  Headers:",s);let i=await fetch("".concat(ev).concat(e),{...t,headers:{...s,...null==t?void 0:t.headers}}),a=await i.json();if(console.log("ðŸ“¥ API Response:"),console.log("  Status:",i.status),console.log("  Data:",a),!i.ok)throw 401===i.status&&(console.error("ðŸ” Unauthorized - clearing token"),localStorage.removeItem("token"),window.location.href="/login"),Error(a.error||a.message||"HTTP ".concat(i.status));return a.data},ef=e=>ep({queryKey:["products",e],queryFn:()=>ey("/products/".concat(e)),enabled:!!e}),e_=()=>G({mutationFn:e=>(console.log("ðŸ“¤ CREATE PRODUCT MUTATION"),console.log("  Data:",e),ey("/products",{method:"POST",body:JSON.stringify(e)})),onSuccess:()=>{console.log("âœ… Product created - invalidating queries"),eb.queryClient.invalidateQueries({queryKey:["products"]})}}),eg=()=>ep({queryKey:["categories"],queryFn:()=>ey("/categories")}),ex=()=>G({mutationFn:e=>(console.log("ðŸ“¤ CREATE CATEGORY MUTATION"),console.log("  Data:",e),ey("/categories",{method:"POST",body:JSON.stringify(e)})),onSuccess:()=>{console.log("âœ… Category created - invalidating queries"),eb.queryClient.invalidateQueries({queryKey:["categories"]})}}),eS=()=>G({mutationFn:e=>(console.log("ðŸ“¤ CREATE STYLE MUTATION"),console.log("  Data:",e),ey("/styles",{method:"POST",body:JSON.stringify(e)})),onSuccess:()=>{console.log("âœ… Style created - invalidating queries"),eb.queryClient.invalidateQueries({queryKey:["styles"]})}}),ej=()=>ep({queryKey:["brands"],queryFn:()=>ey("/brands?status=active")}),eN=()=>G({mutationFn:e=>(console.log("ðŸ“¤ CREATE BRAND MUTATION"),console.log("  Data:",e),ey("/brands",{method:"POST",body:JSON.stringify(e)})),onSuccess:()=>{console.log("âœ… Brand created - invalidating queries"),eb.queryClient.invalidateQueries({queryKey:["brands"]})}})},74962,e=>{"use strict";e.s(["default",()=>o]);var t=e.i(12578),s=e.i(8643),i=e.i(42769),a=e.i(58695),l=e.i(90258),r=e.i(24477);function o(){console.log("ðŸŽ¨ Style Add Page Loaded");let e=(0,a.useRouter)(),o=(0,r.useCreateStyle)(),[n,c]=(0,l.useState)({styleName:"",styleType:"",styleSlug:"",styleStatus:"active",styleDescription:"",featured:!1,popular:!1}),[h,d]=(0,l.useState)(null),[u,m]=(0,l.useState)(""),[p,b]=(0,l.useState)(null),[v,y]=(0,l.useState)(""),f=e=>{let{name:t,value:s,type:i,checked:a}=e.target;c(e=>({...e,[t]:"checkbox"===i?a:s}))},_=async t=>{console.log("ðŸš€ FORM SUBMITTED - handleSubmit called"),t.preventDefault();try{let t="",s="";if(h){console.log("ðŸ“¤ UPLOADING IMAGE...");let e=new FormData;e.append("images",h);let s=localStorage.getItem("token"),i=await fetch("".concat("https://api.buyshopo.com/api","/upload/images"),{method:"POST",headers:{Authorization:"Bearer ".concat(s)},body:e});if(!i.ok)throw Error("Failed to upload image");t=(await i.json()).data.urls[0],console.log("âœ… IMAGE UPLOADED:",t)}if(p){console.log("ðŸ“¤ UPLOADING ICON...");let e=new FormData;e.append("images",p);let t=localStorage.getItem("token"),i=await fetch("".concat("https://api.buyshopo.com/api","/upload/images"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:e});if(!i.ok)throw Error("Failed to upload icon");s=(await i.json()).data.urls[0],console.log("âœ… ICON UPLOADED:",s)}let i={name:n.styleName,type:n.styleType,slug:n.styleSlug,description:n.styleDescription||void 0,status:n.styleStatus,image:t||void 0,icon:s||void 0,featured:n.featured,popular:n.popular,productCount:0};console.log("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"),console.log("ðŸ“¤ CREATING STYLE WITH TANSTACK QUERY"),console.log("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"),console.log("Style Data:",i),await o.mutateAsync(i),console.log("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"),console.log("âœ… STYLE CREATED SUCCESSFULLY"),console.log("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"),e.push("/styles-list")}catch(e){console.error("âŒ STYLE CREATION FAILED:",e)}};return(0,t.jsx)(s.default,{pageTitle:"Add Style",children:(0,t.jsxs)("div",{className:"container-fluid",children:[(0,t.jsx)("div",{className:"row mb-3",children:(0,t.jsx)("div",{className:"col-12",children:(0,t.jsx)("nav",{"aria-label":"breadcrumb",children:(0,t.jsxs)("ol",{className:"breadcrumb",children:[(0,t.jsx)("li",{className:"breadcrumb-item",children:(0,t.jsx)(i.default,{href:"/",children:"Home"})}),(0,t.jsx)("li",{className:"breadcrumb-item",children:(0,t.jsx)(i.default,{href:"/styles-list",children:"Styles"})}),(0,t.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Add Style"})]})})})}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-lg-8",children:(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsx)("h4",{className:"card-title",children:"Add New Style"}),(0,t.jsxs)("form",{onSubmit:_,children:[(0,t.jsxs)("div",{className:"row",children:[(0,t.jsxs)("div",{className:"col-12 mb-4",children:[(0,t.jsx)("label",{className:"form-label fw-bold",children:"Style Image"}),(0,t.jsxs)("div",{className:"border rounded p-3 bg-light",children:[(0,t.jsx)("input",{type:"file",className:"form-control mb-3",accept:"image/*",onChange:e=>{var t;let s=null==(t=e.target.files)?void 0:t[0];if(s){d(s);let e=new FileReader;e.onload=e=>{var t;m(null==(t=e.target)?void 0:t.result)},e.readAsDataURL(s)}}}),u&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("small",{className:"text-muted d-block mb-2",children:"Preview:"}),(0,t.jsxs)("div",{className:"position-relative d-inline-block",children:[(0,t.jsx)("img",{src:u,alt:"Style Preview",className:"img-fluid rounded border",style:{width:"150px",height:"150px",objectFit:"cover"}}),(0,t.jsx)("button",{type:"button",className:"btn btn-danger btn-sm position-absolute top-0 end-0 m-1",onClick:()=>{d(null),m("")},title:"Remove image",children:(0,t.jsx)("i",{className:"bx bx-x"})})]})]}),(0,t.jsxs)("small",{className:"text-muted d-block mt-2",children:[(0,t.jsx)("i",{className:"bx bx-info-circle me-1"}),"Upload a style image (optional). Recommended size: 400x400px"]})]})]}),(0,t.jsxs)("div",{className:"col-12 mb-4",children:[(0,t.jsx)("label",{className:"form-label fw-bold",children:"Style Icon"}),(0,t.jsxs)("div",{className:"border rounded p-3 bg-light",children:[(0,t.jsx)("input",{type:"file",className:"form-control mb-3",accept:"image/*",onChange:e=>{var t;let s=null==(t=e.target.files)?void 0:t[0];if(s){b(s);let e=new FileReader;e.onload=e=>{var t;y(null==(t=e.target)?void 0:t.result)},e.readAsDataURL(s)}}}),v&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("small",{className:"text-muted d-block mb-2",children:"Icon Preview:"}),(0,t.jsxs)("div",{className:"position-relative d-inline-block",children:[(0,t.jsx)("img",{src:v,alt:"Icon Preview",className:"img-fluid rounded border",style:{width:"64px",height:"64px",objectFit:"cover"}}),(0,t.jsx)("button",{type:"button",className:"btn btn-danger btn-sm position-absolute top-0 end-0 m-1",onClick:()=>{b(null),y("")},title:"Remove icon",children:(0,t.jsx)("i",{className:"bx bx-x"})})]})]}),(0,t.jsxs)("small",{className:"text-muted d-block mt-2",children:[(0,t.jsx)("i",{className:"bx bx-info-circle me-1"}),"Upload a style icon (optional). Recommended size: 64x64px"]})]})]}),(0,t.jsxs)("div",{className:"col-12 mb-3",children:[(0,t.jsx)("hr",{className:"my-2"}),(0,t.jsx)("h6",{className:"text-muted",children:"Style Information"})]}),(0,t.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,t.jsxs)("label",{htmlFor:"styleName",className:"form-label",children:["Style Name ",(0,t.jsx)("span",{className:"text-danger",children:"*"})]}),(0,t.jsx)("input",{type:"text",className:"form-control",id:"styleName",name:"styleName",placeholder:"Enter style name",value:n.styleName,onChange:f,required:!0})]}),(0,t.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,t.jsxs)("label",{htmlFor:"styleType",className:"form-label",children:["Style Type ",(0,t.jsx)("span",{className:"text-danger",children:"*"})]}),(0,t.jsxs)("select",{className:"form-select",id:"styleType",name:"styleType",value:n.styleType,onChange:f,required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select Type"}),(0,t.jsx)("option",{value:"western",children:"Western"}),(0,t.jsx)("option",{value:"desi",children:"Desi"}),(0,t.jsx)("option",{value:"eastern",children:"Eastern"}),(0,t.jsx)("option",{value:"asian",children:"Asian"}),(0,t.jsx)("option",{value:"traditional",children:"Traditional"}),(0,t.jsx)("option",{value:"modern",children:"Modern"})]})]}),(0,t.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,t.jsx)("label",{htmlFor:"styleSlug",className:"form-label",children:"Style Slug"}),(0,t.jsx)("input",{type:"text",className:"form-control",id:"styleSlug",name:"styleSlug",placeholder:"style-slug",value:n.styleSlug,onChange:f})]}),(0,t.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,t.jsx)("label",{htmlFor:"styleStatus",className:"form-label",children:"Status"}),(0,t.jsxs)("select",{className:"form-select",id:"styleStatus",name:"styleStatus",value:n.styleStatus,onChange:f,children:[(0,t.jsx)("option",{value:"active",children:"Active"}),(0,t.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,t.jsxs)("div",{className:"col-12 mb-3",children:[(0,t.jsx)("label",{htmlFor:"styleDescription",className:"form-label",children:"Description"}),(0,t.jsx)("textarea",{className:"form-control",id:"styleDescription",name:"styleDescription",rows:4,placeholder:"Enter style description",value:n.styleDescription,onChange:f})]}),(0,t.jsx)("div",{className:"col-md-6 mb-3",children:(0,t.jsxs)("div",{className:"form-check",children:[(0,t.jsx)("input",{className:"form-check-input",type:"checkbox",id:"featured",name:"featured",checked:n.featured,onChange:f}),(0,t.jsx)("label",{className:"form-check-label",htmlFor:"featured",children:"Featured Style"})]})}),(0,t.jsx)("div",{className:"col-md-6 mb-3",children:(0,t.jsxs)("div",{className:"form-check",children:[(0,t.jsx)("input",{className:"form-check-input",type:"checkbox",id:"popular",name:"popular",checked:n.popular,onChange:f}),(0,t.jsx)("label",{className:"form-check-label",htmlFor:"popular",children:"Popular Style"})]})})]}),(0,t.jsxs)("div",{className:"d-flex gap-2",children:[(0,t.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:o.isPending,children:o.isPending?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"spinner-border spinner-border-sm me-2"}),"Creating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("i",{className:"bx bx-save me-1"}),"Create Style"]})}),(0,t.jsxs)(i.default,{href:"/styles-list",className:"btn btn-outline-secondary",children:[(0,t.jsx)("i",{className:"bx bx-x me-1"}),"Cancel"]})]})]})]})})}),(0,t.jsx)("div",{className:"col-lg-4",children:(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsx)("h5",{className:"card-title",children:"Style Guidelines"}),(0,t.jsxs)("ul",{className:"list-unstyled",children:[(0,t.jsxs)("li",{className:"mb-2",children:[(0,t.jsx)("i",{className:"bx bx-check-circle text-success me-2"}),"Use clear, descriptive names"]}),(0,t.jsxs)("li",{className:"mb-2",children:[(0,t.jsx)("i",{className:"bx bx-check-circle text-success me-2"}),"Choose appropriate style type"]}),(0,t.jsxs)("li",{className:"mb-2",children:[(0,t.jsx)("i",{className:"bx bx-check-circle text-success me-2"}),"Upload high-quality images"]}),(0,t.jsxs)("li",{className:"mb-2",children:[(0,t.jsx)("i",{className:"bx bx-check-circle text-success me-2"}),"Write detailed descriptions"]}),(0,t.jsxs)("li",{className:"mb-2",children:[(0,t.jsx)("i",{className:"bx bx-check-circle text-success me-2"}),"Mark featured styles carefully"]})]})]})})})]})]})})}}]);