(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25536,66880,e=>{"use strict";function t(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}e.s(["bannersApi",()=>l],25536),e.s(["default",()=>s],66880),e.i(74094);class a extends Error{constructor(e,a,s){super(e),t(this,"status",void 0),t(this,"data",void 0),this.status=a,this.data=s,this.name="ApiError"}}let s=new class{setHeader(e,t){this.defaultHeaders[e]=t}removeHeader(e){delete this.defaultHeaders[e]}setAuthToken(e){this.setHeader("Authorization","Bearer ".concat(e))}clearAuthToken(){this.removeHeader("Authorization")}async request(e,t){let s="".concat(this.baseURL).concat(e),l=localStorage.getItem("token"),i=l?{Authorization:"Bearer ".concat(l)}:{};console.log("ðŸ”§ API Client Request:"),console.log("  URL:",s),console.log("  Method:",t.method),console.log("  Token exists:",!!l),console.log("  Token preview:",l?l.substring(0,30)+"...":"NO TOKEN"),console.log("  Headers:",{...this.defaultHeaders,...i,...t.headers});try{let e=await fetch(s,{method:t.method,headers:{...this.defaultHeaders,...i,...t.headers},body:t.body?JSON.stringify(t.body):void 0,signal:t.signal}),l=await e.json();if(!e.ok)throw new a(l.message||"HTTP error! status: ".concat(e.status),e.status,l);return l}catch(e){if(e instanceof a)throw e;if(e instanceof TypeError)throw new a("Network error. Please check your connection.",0);if(e instanceof DOMException&&"AbortError"===e.name)throw new a("Request cancelled",0);throw new a("An unexpected error occurred",0)}}async get(e,t,a){let s=t?"?".concat(new URLSearchParams(t).toString()):"";return this.request(e+s,{method:"GET",headers:null==a?void 0:a.headers,signal:null==a?void 0:a.signal})}async post(e,t,a){return this.request(e,{method:"POST",body:t,headers:null==a?void 0:a.headers,signal:null==a?void 0:a.signal})}async put(e,t,a){return this.request(e,{method:"PUT",body:t,headers:null==a?void 0:a.headers,signal:null==a?void 0:a.signal})}async patch(e,t,a){return this.request(e,{method:"PATCH",body:t,headers:null==a?void 0:a.headers,signal:null==a?void 0:a.signal})}async delete(e,t){return this.request(e,{method:"DELETE",headers:null==t?void 0:t.headers,signal:null==t?void 0:t.signal})}constructor(e){t(this,"baseURL",void 0),t(this,"defaultHeaders",void 0),this.baseURL=e,this.defaultHeaders={"Content-Type":"application/json"}}}("https://api.buyshopo.com/api"),l={list:e=>s.get("/banners",e),get:e=>s.get("/banners/".concat(e)),create:e=>s.post("/banners",e),update:(e,t)=>s.put("/banners/".concat(e)),remove:e=>s.delete("/banners/".concat(e))}},47596,6047,37097,30467,2208,14145,45380,9239,e=>{"use strict";e.s([],47596);var t=e.i(66880);e.s(["productsApi",()=>a],6047);let a={getAll:e=>t.default.get("/products",e),getById:e=>t.default.get("/products/".concat(e)),create:e=>t.default.post("/products",e),update:(e,a)=>t.default.put("/products/".concat(e),a),delete:e=>t.default.delete("/products/".concat(e)),updateStatus:(e,a)=>t.default.patch("/products/".concat(e,"/status"),{status:a}),getFeatured:()=>t.default.get("/products/featured"),setFeatured:(e,a)=>t.default.patch("/products/".concat(e,"/featured"),{featured:a})};e.s(["ordersApi",()=>s],37097);let s={getAll:e=>t.default.get("/orders",e),getById:e=>t.default.get("/orders/".concat(e)),updateStatus:(e,a)=>t.default.patch("/orders/".concat(e,"/status"),{status:a}),getRecent:e=>t.default.get("/orders/recent",e?{limit:e}:void 0),cancel:(e,a)=>t.default.post("/orders/".concat(e,"/cancel"),{reason:a})};e.s(["categoriesApi",()=>l],30467);let l={getAll:()=>t.default.get("/categories"),getById:e=>t.default.get("/categories/".concat(e)),create:e=>t.default.post("/categories",e),update:(e,a)=>t.default.put("/categories/".concat(e),a),delete:e=>t.default.delete("/categories/".concat(e))};e.s(["stylesApi",()=>i],2208);let i={getAll:e=>t.default.get("/styles?".concat(new URLSearchParams(e).toString())),getById:e=>t.default.get("/styles/".concat(e)),create:e=>t.default.post("/styles",e),update:(e,a)=>t.default.put("/styles/".concat(e),a),delete:e=>t.default.delete("/styles/".concat(e))};e.s(["dashboardApi",()=>r],14145);let r={getStats:e=>t.default.get("/dashboard/stats",e?{period:e}:void 0),getChartData:(e,a)=>t.default.get("/dashboard/charts/".concat(e),{period:a}),getSalesAnalytics:e=>t.default.get("/dashboard/sales",e),getFinanceAnalytics:e=>t.default.get("/dashboard/finance",e)};e.s(["brandsApi",()=>n],45380);let n={getAll:e=>t.default.get("/brands",e),getById:e=>t.default.get("/brands/".concat(e)),create:e=>t.default.post("/brands",e),update:(e,a)=>t.default.put("/brands/".concat(e),a),delete:e=>t.default.delete("/brands/".concat(e)),getFeatured:()=>t.default.get("/brands/featured"),getTop:e=>t.default.get("/brands/top",e?{limit:e}:void 0),setVerified:(e,a)=>t.default.patch("/brands/".concat(e,"/verify"),{verified:a})};e.s(["notificationsApi",()=>c],9239);let c={getAll:e=>t.default.get("/notifications",e),getById:e=>t.default.get("/notifications/".concat(e)),create:e=>t.default.post("/notifications",e),delete:e=>t.default.delete("/notifications/".concat(e)),getHistory:e=>t.default.get("/notifications/history",e),send:e=>t.default.post("/notifications/".concat(e,"/send"))};e.i(25536)},25417,e=>{"use strict";e.s(["InteractiveTable",()=>t.default]),e.i(11847),e.i(58341);var t=e.i(58502);e.i(17403)},35675,58341,58502,17403,11847,e=>{"use strict";e.s([],35675),e.i(18376),e.i(88424),e.s([],11847),e.s(["default",()=>s],58341);var t=e.i(12578),a=e.i(90258);function s(e){let{isOpen:s,onClose:l,onSubmit:i}=e,[r,n]=(0,a.useState)({productId:"",customerName:"",customerEmail:"",rating:5,review:"",status:"pending"}),c=e=>{let{name:t,value:a}=e.target;n(e=>({...e,[t]:a}))};return s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"modal-backdrop fade show"}),(0,t.jsx)("div",{className:"modal fade show",style:{display:"block"},tabIndex:-1,children:(0,t.jsx)("div",{className:"modal-dialog modal-lg",children:(0,t.jsxs)("div",{className:"modal-content",children:[(0,t.jsxs)("div",{className:"modal-header",children:[(0,t.jsx)("h5",{className:"modal-title",children:"Add New Review"}),(0,t.jsx)("button",{type:"button",className:"btn-close",onClick:l,"aria-label":"Close"})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i(r),l(),n({productId:"",customerName:"",customerEmail:"",rating:5,review:"",status:"pending"})},children:[(0,t.jsxs)("div",{className:"modal-body",children:[(0,t.jsxs)("div",{className:"row",children:[(0,t.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,t.jsx)("label",{htmlFor:"productId",className:"form-label",children:"Product"}),(0,t.jsxs)("select",{className:"form-select",id:"productId",name:"productId",value:r.productId,onChange:c,required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select Product"}),(0,t.jsx)("option",{value:"1",children:"G15 Gaming Laptop"}),(0,t.jsx)("option",{value:"2",children:"Sony Alpha Camera"}),(0,t.jsx)("option",{value:"3",children:"Wireless Headphones"}),(0,t.jsx)("option",{value:"4",children:"Smart Watch"}),(0,t.jsx)("option",{value:"5",children:"Bluetooth Speaker"})]})]}),(0,t.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,t.jsx)("label",{htmlFor:"status",className:"form-label",children:"Status"}),(0,t.jsxs)("select",{className:"form-select",id:"status",name:"status",value:r.status,onChange:c,children:[(0,t.jsx)("option",{value:"pending",children:"Pending"}),(0,t.jsx)("option",{value:"approved",children:"Approved"}),(0,t.jsx)("option",{value:"rejected",children:"Rejected"})]})]})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,t.jsx)("label",{htmlFor:"customerName",className:"form-label",children:"Customer Name"}),(0,t.jsx)("input",{type:"text",className:"form-control",id:"customerName",name:"customerName",value:r.customerName,onChange:c,required:!0})]}),(0,t.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,t.jsx)("label",{htmlFor:"customerEmail",className:"form-label",children:"Customer Email"}),(0,t.jsx)("input",{type:"email",className:"form-control",id:"customerEmail",name:"customerEmail",value:r.customerEmail,onChange:c,required:!0})]})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{htmlFor:"rating",className:"form-label",children:"Rating"}),(0,t.jsxs)("div",{className:"d-flex align-items-center",children:[(0,t.jsx)("input",{type:"range",className:"form-range me-3",id:"rating",name:"rating",min:"1",max:"5",value:r.rating,onChange:c,style:{width:"200px"}}),(0,t.jsxs)("div",{className:"d-flex",children:[[1,2,3,4,5].map(e=>(0,t.jsx)("i",{className:"bx ".concat(e<=r.rating?"bxs-star text-warning":"bx-star text-muted"," fs-20 me-1")},e)),(0,t.jsxs)("span",{className:"ms-2 fw-semibold",children:[r.rating,"/5"]})]})]})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{htmlFor:"review",className:"form-label",children:"Review Text"}),(0,t.jsx)("textarea",{className:"form-control",id:"review",name:"review",rows:4,value:r.review,onChange:c,placeholder:"Write your review here...",required:!0})]})]}),(0,t.jsxs)("div",{className:"modal-footer",children:[(0,t.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:l,children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add Review"})]})]})]})})})]}):null}e.s(["default",()=>n],58502);var l=e.i(76708),i=e.i(99430),r=e.i(83961),r=r;function n(e){let{data:s,columns:n,filters:c=[],searchFields:d=[],itemsPerPage:o=10,className:u="",onRowClick:m,onEdit:h,onDelete:x,showActions:p=!0,showSearch:f=!0,showFilters:g=!0,showPagination:v=!0}=e,[b,j]=(0,a.useState)(""),[N,y]=(0,a.useState)("asc"),{filters:w,updateFilter:A,clearFilters:C}=(0,l.useFilters)(),{searchTerm:k,setSearchTerm:S,filteredData:I}=(0,l.useSearch)(s,d),{currentData:T,currentPage:B,totalPages:E,goToPage:F,nextPage:P,prevPage:R,hasNextPage:H,hasPrevPage:L}=(0,l.usePagination)(I,o),q=(0,a.useMemo)(()=>b?[...T].sort((e,t)=>{let a=e[b],s=t[b];return a<s?"asc"===N?-1:1:a>s?"asc"===N?1:-1:0}):T,[T,b,N]),z=(e,t)=>{A(e,t)};return(0,t.jsxs)("div",{className:"interactive-table ".concat(u),children:[(f||g)&&(0,t.jsxs)("div",{className:"row mb-3",children:[f&&(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"input-group",children:[(0,t.jsx)("span",{className:"input-group-text",children:(0,t.jsx)("i",{className:"bx bx-search"})}),(0,t.jsx)("input",{type:"text",className:"form-control",placeholder:"Search...",value:k,onChange:e=>S(e.target.value)})]})}),g&&c.length>0&&(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"d-flex gap-2 flex-wrap",children:[c.map(e=>(0,t.jsx)("div",{className:"flex-grow-1",style:{minWidth:"150px"},children:"select"===e.type?(0,t.jsx)(r.default,{options:e.options||[],value:w[e.key],onChange:t=>z(e.key,t),placeholder:e.label,className:"w-100"}):(0,t.jsx)("input",{type:e.type,className:"form-control",placeholder:e.label,value:w[e.key]||"",onChange:t=>z(e.key,t.target.value)})},e.key)),(0,t.jsxs)(i.InteractiveButton,{variant:"outline-secondary",size:"sm",onClick:()=>{C(),S("")},children:[(0,t.jsx)("i",{className:"bx bx-x me-1"}),"Clear"]})]})})]}),(0,t.jsx)("div",{className:"table-responsive",children:(0,t.jsxs)("table",{className:"table table-hover",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[n.map(e=>(0,t.jsx)("th",{style:{width:e.width},className:e.sortable?"cursor-pointer":"",onClick:e.sortable?()=>{var t;b===(t=e.key)?y("asc"===N?"desc":"asc"):(j(t),y("asc"))}:void 0,children:(0,t.jsxs)("div",{className:"d-flex align-items-center",children:[e.label,e.sortable&&(0,t.jsx)("i",{className:"bx ".concat(b!==e.key?"bx-sort":"asc"===N?"bx-sort-up":"bx-sort-down"," ms-1")})]})},e.key)),p&&(0,t.jsx)("th",{width:"120",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:q.map((e,a)=>(0,t.jsxs)("tr",{className:m?"cursor-pointer":"",onClick:m?()=>m(e):void 0,children:[n.map(a=>(0,t.jsx)("td",{children:a.render?a.render(e[a.key],e):e[a.key]},a.key)),p&&(0,t.jsx)("td",{children:(0,t.jsxs)("div",{className:"btn-group btn-group-sm",children:[h&&(0,t.jsx)(i.InteractiveButton,{variant:"outline-primary",size:"sm",onClick:()=>h(e),children:(0,t.jsx)("i",{className:"bx bx-edit"})}),x&&(0,t.jsx)(i.InteractiveButton,{variant:"outline-danger",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this item?")&&x(e)},children:(0,t.jsx)("i",{className:"bx bx-trash"})})]})})]},a))})]})}),v&&E>1&&(0,t.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[(0,t.jsxs)("div",{className:"text-muted",children:["Showing ",(B-1)*o+1," to ",Math.min(B*o,s.length)," of ",s.length," entries"]}),(0,t.jsxs)("div",{className:"d-flex gap-1",children:[(0,t.jsx)(i.InteractiveButton,{variant:"outline-secondary",size:"sm",onClick:R,disabled:!L,children:(0,t.jsx)("i",{className:"bx bx-chevron-left"})}),Array.from({length:Math.min(5,E)},(e,a)=>{let s=a+1;return(0,t.jsx)(i.InteractiveButton,{variant:B===s?"primary":"outline-secondary",size:"sm",onClick:()=>F(s),children:s},s)}),(0,t.jsx)(i.InteractiveButton,{variant:"outline-secondary",size:"sm",onClick:P,disabled:!H,children:(0,t.jsx)("i",{className:"bx bx-chevron-right"})})]})]})]})}function c(){let{notifications:e,removeNotification:a}=(0,l.useNotification)();return 0===e.length?null:(0,t.jsx)("div",{className:"notification-container position-fixed",style:{top:"20px",right:"20px",zIndex:9999,maxWidth:"400px"},children:e.map(e=>(0,t.jsx)("div",{className:"alert ".concat({success:"alert-success",error:"alert-danger",warning:"alert-warning",info:"alert-info"}[e.type]||"alert-info"," alert-dismissible fade show mb-2"),role:"alert",children:(0,t.jsxs)("div",{className:"d-flex align-items-center",children:[(0,t.jsx)("i",{className:"bx ".concat({success:"bx-check-circle",error:"bx-error-circle",warning:"bx-error",info:"bx-info-circle"}[e.type]||"bx-info-circle"," me-2")}),(0,t.jsx)("span",{className:"flex-grow-1",children:e.message}),(0,t.jsx)("button",{type:"button",className:"btn-close",onClick:()=>a(e.id),"aria-label":"Close"})]})},e.id))})}e.s(["default",()=>c],17403),e.i(8643),e.i(85038),e.i(73266);e.i(88781);a.default.Component,e.i(66132)},26625,e=>{"use strict";e.s(["Layout",()=>t.default]);var t=e.i(8643)},67381,e=>{"use strict";e.s(["InteractiveButton",()=>t.default]),e.i(18376),e.i(88781),e.i(52679),e.i(35858);var t=e.i(27297)},44851,e=>{"use strict";e.s(["default",()=>d]);var t=e.i(12578);e.i(35675);var a=e.i(26625),s=e.i(25417),l=e.i(67381),i=e.i(76708),r=e.i(42769),n=e.i(90258);e.i(47596);var c=e.i(9239);function d(){let{addNotification:e}=(0,i.useNotification)(),[d,o]=(0,n.useState)(""),[u,m]=(0,n.useState)(""),[h,x]=(0,n.useState)([]),[p,f]=(0,n.useState)(!0);(0,n.useEffect)(()=>{g()},[d,u]);let g=async()=>{try{f(!0);let e={};d&&(e.status=d),u&&(e.type=u);let t=await c.notificationsApi.getAll(e);x(t.data||[])}catch(t){console.error("Failed to fetch notifications:",t),e("Failed to load notifications","error"),x([])}finally{f(!1)}},v=async t=>{if(confirm("Are you sure you want to delete this notification?"))try{await c.notificationsApi.delete(t),e("Notification deleted successfully","success"),g()}catch(t){e("Failed to delete notification","error")}},b=[{key:"title",label:"Title",render:(e,a)=>{var s;return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"fw-medium text-dark",children:e}),(0,t.jsxs)("small",{className:"text-muted",children:[null==(s=a.message)?void 0:s.substring(0,60),"..."]})]})}},{key:"type",label:"Type",render:e=>(0,t.jsxs)("span",{className:"badge bg-primary",children:[{discount:"ðŸ’°",sale:"ðŸ·ï¸",new_product:"ðŸ†•",order_update:"ðŸ“¦",general:"ðŸ“¢"}[e]," ",e.replace("_"," ")]})},{key:"targetAudience",label:"Target",render:(e,a)=>(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"badge bg-info",children:"all"===e?"ðŸ‘¥ All Users":"ðŸŽ¯ Specific"}),a.targetSegment&&(0,t.jsx)("div",{children:(0,t.jsx)("small",{className:"text-muted",children:a.targetSegment})})]})},{key:"sentCount",label:"Sent",render:e=>(0,t.jsx)("span",{className:"badge bg-success",children:e||0})},{key:"viewedCount",label:"Viewed",render:(e,a)=>{let s=a.sentCount>0?(e/a.sentCount*100).toFixed(0):0;return(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"badge bg-info",children:e||0}),(0,t.jsx)("div",{children:(0,t.jsxs)("small",{className:"text-muted",children:[s,"%"]})})]})}},{key:"status",label:"Status",render:e=>(0,t.jsx)("span",{className:"badge ".concat({draft:"bg-secondary",scheduled:"bg-warning",sent:"bg-success",failed:"bg-danger"}[e]||"bg-secondary"),children:e||"draft"})},{key:"createdAt",label:"Created",render:e=>new Date(e).toLocaleDateString()}],j=async e=>{await v(e._id||e.id)};return(0,t.jsx)(a.Layout,{pageTitle:"Notifications",children:(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col-xl-12",children:(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,t.jsxs)("h4",{className:"header-title",children:["All Notifications ",p&&(0,t.jsx)("span",{className:"spinner-border spinner-border-sm ms-2"})]}),(0,t.jsx)(r.default,{href:"/notification-create",children:(0,t.jsxs)(l.InteractiveButton,{variant:"primary",children:[(0,t.jsx)("i",{className:"mdi mdi-plus me-1"}),"Create Notification"]})})]}),(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsxs)("div",{className:"row mb-3",children:[(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("select",{className:"form-select",value:d,onChange:e=>o(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"All Status"}),(0,t.jsx)("option",{value:"draft",children:"Draft"}),(0,t.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,t.jsx)("option",{value:"sent",children:"Sent"}),(0,t.jsx)("option",{value:"failed",children:"Failed"})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("select",{className:"form-select",value:u,onChange:e=>m(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"All Types"}),(0,t.jsx)("option",{value:"discount",children:"Discount"}),(0,t.jsx)("option",{value:"sale",children:"Sale"}),(0,t.jsx)("option",{value:"new_product",children:"New Product"}),(0,t.jsx)("option",{value:"order_update",children:"Order Update"}),(0,t.jsx)("option",{value:"general",children:"General"})]})})]}),p?(0,t.jsxs)("div",{className:"text-center py-5",children:[(0,t.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,t.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,t.jsx)("p",{className:"mt-2",children:"Loading notifications from MongoDB..."})]}):0===h.length?(0,t.jsxs)("div",{className:"text-center py-5",children:[(0,t.jsx)("i",{className:"mdi mdi-bell-outline",style:{fontSize:"64px",color:"#ccc"}}),(0,t.jsx)("h5",{className:"mt-3",children:"No Notifications Yet"}),(0,t.jsxs)("p",{className:"text-muted",children:["Create notifications to engage with your mobile app users.",(0,t.jsx)("br",{}),"Send discounts, sales alerts, and product updates!"]}),(0,t.jsx)(r.default,{href:"/notification-create",children:(0,t.jsxs)(l.InteractiveButton,{variant:"primary",children:[(0,t.jsx)("i",{className:"mdi mdi-plus me-1"}),"Create Your First Notification"]})})]}):(0,t.jsx)(s.InteractiveTable,{data:h,columns:b,onEdit:t=>{"draft"===t.status?window.location.href="/notification-edit?id=".concat(t._id||t.id):e("Only draft notifications can be edited","warning")},onDelete:j,itemsPerPage:10})]})]})})})})}}]);