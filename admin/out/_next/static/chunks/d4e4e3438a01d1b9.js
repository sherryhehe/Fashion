(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,35675,58341,58502,17403,11847,e=>{"use strict";e.s([],35675),e.i(18376),e.i(88424),e.s([],11847),e.s(["default",()=>l],58341);var s=e.i(12578),a=e.i(90258);function l(e){let{isOpen:l,onClose:t,onSubmit:i}=e,[r,c]=(0,a.useState)({productId:"",customerName:"",customerEmail:"",rating:5,review:"",status:"pending"}),n=e=>{let{name:s,value:a}=e.target;c(e=>({...e,[s]:a}))};return l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"modal-backdrop fade show"}),(0,s.jsx)("div",{className:"modal fade show",style:{display:"block"},tabIndex:-1,children:(0,s.jsx)("div",{className:"modal-dialog modal-lg",children:(0,s.jsxs)("div",{className:"modal-content",children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h5",{className:"modal-title",children:"Add New Review"}),(0,s.jsx)("button",{type:"button",className:"btn-close",onClick:t,"aria-label":"Close"})]}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i(r),t(),c({productId:"",customerName:"",customerEmail:"",rating:5,review:"",status:"pending"})},children:[(0,s.jsxs)("div",{className:"modal-body",children:[(0,s.jsxs)("div",{className:"row",children:[(0,s.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,s.jsx)("label",{htmlFor:"productId",className:"form-label",children:"Product"}),(0,s.jsxs)("select",{className:"form-select",id:"productId",name:"productId",value:r.productId,onChange:n,required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select Product"}),(0,s.jsx)("option",{value:"1",children:"G15 Gaming Laptop"}),(0,s.jsx)("option",{value:"2",children:"Sony Alpha Camera"}),(0,s.jsx)("option",{value:"3",children:"Wireless Headphones"}),(0,s.jsx)("option",{value:"4",children:"Smart Watch"}),(0,s.jsx)("option",{value:"5",children:"Bluetooth Speaker"})]})]}),(0,s.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,s.jsx)("label",{htmlFor:"status",className:"form-label",children:"Status"}),(0,s.jsxs)("select",{className:"form-select",id:"status",name:"status",value:r.status,onChange:n,children:[(0,s.jsx)("option",{value:"pending",children:"Pending"}),(0,s.jsx)("option",{value:"approved",children:"Approved"}),(0,s.jsx)("option",{value:"rejected",children:"Rejected"})]})]})]}),(0,s.jsxs)("div",{className:"row",children:[(0,s.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,s.jsx)("label",{htmlFor:"customerName",className:"form-label",children:"Customer Name"}),(0,s.jsx)("input",{type:"text",className:"form-control",id:"customerName",name:"customerName",value:r.customerName,onChange:n,required:!0})]}),(0,s.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,s.jsx)("label",{htmlFor:"customerEmail",className:"form-label",children:"Customer Email"}),(0,s.jsx)("input",{type:"email",className:"form-control",id:"customerEmail",name:"customerEmail",value:r.customerEmail,onChange:n,required:!0})]})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{htmlFor:"rating",className:"form-label",children:"Rating"}),(0,s.jsxs)("div",{className:"d-flex align-items-center",children:[(0,s.jsx)("input",{type:"range",className:"form-range me-3",id:"rating",name:"rating",min:"1",max:"5",value:r.rating,onChange:n,style:{width:"200px"}}),(0,s.jsxs)("div",{className:"d-flex",children:[[1,2,3,4,5].map(e=>(0,s.jsx)("i",{className:"bx ".concat(e<=r.rating?"bxs-star text-warning":"bx-star text-muted"," fs-20 me-1")},e)),(0,s.jsxs)("span",{className:"ms-2 fw-semibold",children:[r.rating,"/5"]})]})]})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{htmlFor:"review",className:"form-label",children:"Review Text"}),(0,s.jsx)("textarea",{className:"form-control",id:"review",name:"review",rows:4,value:r.review,onChange:n,placeholder:"Write your review here...",required:!0})]})]}),(0,s.jsxs)("div",{className:"modal-footer",children:[(0,s.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:t,children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add Review"})]})]})]})})})]}):null}e.s(["default",()=>c],58502);var t=e.i(76708),i=e.i(99430),r=e.i(83961),r=r;function c(e){let{data:l,columns:c,filters:n=[],searchFields:d=[],itemsPerPage:o=10,className:m="",onRowClick:x,onEdit:h,onDelete:u,showActions:j=!0,showSearch:v=!0,showFilters:N=!0,showPagination:p=!0}=e,[b,g]=(0,a.useState)(""),[y,f]=(0,a.useState)("asc"),{filters:w,updateFilter:k,clearFilters:C}=(0,t.useFilters)(),{searchTerm:S,setSearchTerm:I,filteredData:A}=(0,t.useSearch)(l,d),{currentData:P,currentPage:R,totalPages:B,goToPage:F,nextPage:z,prevPage:O,hasNextPage:T,hasPrevPage:D}=(0,t.usePagination)(A,o),E=(0,a.useMemo)(()=>b?[...P].sort((e,s)=>{let a=e[b],l=s[b];return a<l?"asc"===y?-1:1:a>l?"asc"===y?1:-1:0}):P,[P,b,y]),L=(e,s)=>{k(e,s)};return(0,s.jsxs)("div",{className:"interactive-table ".concat(m),children:[(v||N)&&(0,s.jsxs)("div",{className:"row mb-3",children:[v&&(0,s.jsx)("div",{className:"col-md-6",children:(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("span",{className:"input-group-text",children:(0,s.jsx)("i",{className:"bx bx-search"})}),(0,s.jsx)("input",{type:"text",className:"form-control",placeholder:"Search...",value:S,onChange:e=>I(e.target.value)})]})}),N&&n.length>0&&(0,s.jsx)("div",{className:"col-md-6",children:(0,s.jsxs)("div",{className:"d-flex gap-2 flex-wrap",children:[n.map(e=>(0,s.jsx)("div",{className:"flex-grow-1",style:{minWidth:"150px"},children:"select"===e.type?(0,s.jsx)(r.default,{options:e.options||[],value:w[e.key],onChange:s=>L(e.key,s),placeholder:e.label,className:"w-100"}):(0,s.jsx)("input",{type:e.type,className:"form-control",placeholder:e.label,value:w[e.key]||"",onChange:s=>L(e.key,s.target.value)})},e.key)),(0,s.jsxs)(i.InteractiveButton,{variant:"outline-secondary",size:"sm",onClick:()=>{C(),I("")},children:[(0,s.jsx)("i",{className:"bx bx-x me-1"}),"Clear"]})]})})]}),(0,s.jsx)("div",{className:"table-responsive",children:(0,s.jsxs)("table",{className:"table table-hover",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[c.map(e=>(0,s.jsx)("th",{style:{width:e.width},className:e.sortable?"cursor-pointer":"",onClick:e.sortable?()=>{var s;b===(s=e.key)?f("asc"===y?"desc":"asc"):(g(s),f("asc"))}:void 0,children:(0,s.jsxs)("div",{className:"d-flex align-items-center",children:[e.label,e.sortable&&(0,s.jsx)("i",{className:"bx ".concat(b!==e.key?"bx-sort":"asc"===y?"bx-sort-up":"bx-sort-down"," ms-1")})]})},e.key)),j&&(0,s.jsx)("th",{width:"120",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:E.map((e,a)=>(0,s.jsxs)("tr",{className:x?"cursor-pointer":"",onClick:x?()=>x(e):void 0,children:[c.map(a=>(0,s.jsx)("td",{children:a.render?a.render(e[a.key],e):e[a.key]},a.key)),j&&(0,s.jsx)("td",{children:(0,s.jsxs)("div",{className:"btn-group btn-group-sm",children:[h&&(0,s.jsx)(i.InteractiveButton,{variant:"outline-primary",size:"sm",onClick:()=>h(e),children:(0,s.jsx)("i",{className:"bx bx-edit"})}),u&&(0,s.jsx)(i.InteractiveButton,{variant:"outline-danger",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this item?")&&u(e)},children:(0,s.jsx)("i",{className:"bx bx-trash"})})]})})]},a))})]})}),p&&B>1&&(0,s.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[(0,s.jsxs)("div",{className:"text-muted",children:["Showing ",(R-1)*o+1," to ",Math.min(R*o,l.length)," of ",l.length," entries"]}),(0,s.jsxs)("div",{className:"d-flex gap-1",children:[(0,s.jsx)(i.InteractiveButton,{variant:"outline-secondary",size:"sm",onClick:O,disabled:!D,children:(0,s.jsx)("i",{className:"bx bx-chevron-left"})}),Array.from({length:Math.min(5,B)},(e,a)=>{let l=a+1;return(0,s.jsx)(i.InteractiveButton,{variant:R===l?"primary":"outline-secondary",size:"sm",onClick:()=>F(l),children:l},l)}),(0,s.jsx)(i.InteractiveButton,{variant:"outline-secondary",size:"sm",onClick:z,disabled:!T,children:(0,s.jsx)("i",{className:"bx bx-chevron-right"})})]})]})]})}function n(){let{notifications:e,removeNotification:a}=(0,t.useNotification)();return 0===e.length?null:(0,s.jsx)("div",{className:"notification-container position-fixed",style:{top:"20px",right:"20px",zIndex:9999,maxWidth:"400px"},children:e.map(e=>(0,s.jsx)("div",{className:"alert ".concat({success:"alert-success",error:"alert-danger",warning:"alert-warning",info:"alert-info"}[e.type]||"alert-info"," alert-dismissible fade show mb-2"),role:"alert",children:(0,s.jsxs)("div",{className:"d-flex align-items-center",children:[(0,s.jsx)("i",{className:"bx ".concat({success:"bx-check-circle",error:"bx-error-circle",warning:"bx-error",info:"bx-info-circle"}[e.type]||"bx-info-circle"," me-2")}),(0,s.jsx)("span",{className:"flex-grow-1",children:e.message}),(0,s.jsx)("button",{type:"button",className:"btn-close",onClick:()=>a(e.id),"aria-label":"Close"})]})},e.id))})}e.s(["default",()=>n],17403),e.i(8643),e.i(85038),e.i(73266);e.i(88781);a.default.Component,e.i(66132)},26625,e=>{"use strict";e.s(["Layout",()=>s.default]);var s=e.i(8643)},46768,e=>{"use strict";e.s(["default",()=>i]);var s=e.i(12578);e.i(35675);var a=e.i(26625),l=e.i(90258),t=e.i(58695);function i(){var e,i,r,c,n,d,o;let m=(0,t.useRouter)(),[x,h]=(0,l.useState)("1Y"),[u,j]=(0,l.useState)(null),[v,N]=(0,l.useState)(!0),[p,b]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(!localStorage.getItem("token"))return void m.replace("/login");b(!0),g()},[m]);let g=async()=>{try{N(!0);let e=localStorage.getItem("token"),s=await fetch("".concat("https://api.buyshopo.com/api","/dashboard/stats"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}),a=await s.json();a.success&&j(a.data)}catch(e){console.error("Failed to fetch dashboard stats:",e)}finally{N(!1)}};return p?v?(0,s.jsx)(a.Layout,{pageTitle:"Dashboard",children:(0,s.jsxs)("div",{className:"text-center py-5",children:[(0,s.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,s.jsx)("p",{className:"mt-2",children:"Loading dashboard data from MongoDB..."})]})}):(0,s.jsxs)(a.Layout,{pageTitle:"Dashboard",children:[(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col-md-6 col-xl-3",children:(0,s.jsx)("div",{className:"card",children:(0,s.jsx)("div",{className:"card-body",children:(0,s.jsxs)("div",{className:"row align-items-center",children:[(0,s.jsxs)("div",{className:"col-6",children:[(0,s.jsx)("h5",{className:"text-muted fw-normal mt-0 text-truncate",title:"Revenue",children:"Revenue"}),(0,s.jsx)("h3",{className:"my-2 py-1",children:(null==u||null==(e=u.overview)?void 0:e.totalRevenue)||"$0.00"})]}),(0,s.jsx)("div",{className:"col-6",children:(0,s.jsx)("div",{className:"text-end",children:(0,s.jsx)("div",{className:"avatar-sm bg-primary-subtle rounded",children:(0,s.jsx)("i",{className:"mdi mdi-currency-usd avatar-title fs-22 text-primary"})})})})]})})})}),(0,s.jsx)("div",{className:"col-md-6 col-xl-3",children:(0,s.jsx)("div",{className:"card",children:(0,s.jsx)("div",{className:"card-body",children:(0,s.jsxs)("div",{className:"row align-items-center",children:[(0,s.jsxs)("div",{className:"col-6",children:[(0,s.jsx)("h5",{className:"text-muted fw-normal mt-0 text-truncate",title:"Orders",children:"Orders"}),(0,s.jsx)("h3",{className:"my-2 py-1",children:(null==u||null==(i=u.overview)?void 0:i.totalOrders)||"0"})]}),(0,s.jsx)("div",{className:"col-6",children:(0,s.jsx)("div",{className:"text-end",children:(0,s.jsx)("div",{className:"avatar-sm bg-success-subtle rounded",children:(0,s.jsx)("i",{className:"mdi mdi-shopping avatar-title fs-22 text-success"})})})})]})})})}),(0,s.jsx)("div",{className:"col-md-6 col-xl-3",children:(0,s.jsx)("div",{className:"card",children:(0,s.jsx)("div",{className:"card-body",children:(0,s.jsxs)("div",{className:"row align-items-center",children:[(0,s.jsxs)("div",{className:"col-6",children:[(0,s.jsx)("h5",{className:"text-muted fw-normal mt-0 text-truncate",title:"Customers",children:"Customers"}),(0,s.jsx)("h3",{className:"my-2 py-1",children:(null==u||null==(r=u.overview)?void 0:r.totalCustomers)||"0"})]}),(0,s.jsx)("div",{className:"col-6",children:(0,s.jsx)("div",{className:"text-end",children:(0,s.jsx)("div",{className:"avatar-sm bg-info-subtle rounded",children:(0,s.jsx)("i",{className:"mdi mdi-account-multiple avatar-title fs-22 text-info"})})})})]})})})}),(0,s.jsx)("div",{className:"col-md-6 col-xl-3",children:(0,s.jsx)("div",{className:"card",children:(0,s.jsx)("div",{className:"card-body",children:(0,s.jsxs)("div",{className:"row align-items-center",children:[(0,s.jsxs)("div",{className:"col-6",children:[(0,s.jsx)("h5",{className:"text-muted fw-normal mt-0 text-truncate",title:"Products",children:"Products"}),(0,s.jsx)("h3",{className:"my-2 py-1",children:(null==u||null==(c=u.overview)?void 0:c.totalProducts)||"0"})]}),(0,s.jsx)("div",{className:"col-6",children:(0,s.jsx)("div",{className:"text-end",children:(0,s.jsx)("div",{className:"avatar-sm bg-warning-subtle rounded",children:(0,s.jsx)("i",{className:"mdi mdi-package-variant avatar-title fs-22 text-warning"})})})})]})})})})]}),(0,s.jsx)("div",{className:"row",children:(0,s.jsx)("div",{className:"col-lg-12",children:(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("div",{className:"card-header d-flex justify-content-between align-items-center",children:(0,s.jsx)("h4",{className:"header-title",children:"Recent Orders"})}),(0,s.jsx)("div",{className:"card-body",children:(null==u||null==(n=u.recentOrders)?void 0:n.length)===0?(0,s.jsxs)("div",{className:"text-center py-4",children:[(0,s.jsx)("i",{className:"mdi mdi-package-variant-closed",style:{fontSize:"48px",color:"#ccc"}}),(0,s.jsx)("p",{className:"text-muted mt-2",children:"No orders yet"})]}):(0,s.jsx)("div",{className:"table-responsive",children:(0,s.jsxs)("table",{className:"table table-hover table-centered mb-0",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Order #"}),(0,s.jsx)("th",{children:"Customer"}),(0,s.jsx)("th",{children:"Total"}),(0,s.jsx)("th",{children:"Status"}),(0,s.jsx)("th",{children:"Date"})]})}),(0,s.jsx)("tbody",{children:null==u||null==(d=u.recentOrders)?void 0:d.map(e=>{var a;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.orderNumber}),(0,s.jsx)("td",{children:e.customer}),(0,s.jsxs)("td",{children:["$",null==(a=e.total)?void 0:a.toFixed(2)]}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:"badge bg-".concat("delivered"===e.status?"success":"processing"===e.status?"primary":"shipped"===e.status?"info":"warning"),children:e.status})}),(0,s.jsx)("td",{children:new Date(e.createdAt).toLocaleDateString()})]},e.id)})})]})})})]})})}),(null==u||null==(o=u.lowStockProducts)?void 0:o.length)>0&&(0,s.jsx)("div",{className:"row",children:(0,s.jsx)("div",{className:"col-lg-12",children:(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("div",{className:"card-header",children:(0,s.jsx)("h4",{className:"header-title",children:"Low Stock Alert"})}),(0,s.jsx)("div",{className:"card-body",children:(0,s.jsx)("div",{className:"table-responsive",children:(0,s.jsxs)("table",{className:"table table-sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Product"}),(0,s.jsx)("th",{children:"SKU"}),(0,s.jsx)("th",{children:"Stock"})]})}),(0,s.jsx)("tbody",{children:u.lowStockProducts.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.name}),(0,s.jsx)("td",{children:e.sku}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:"badge bg-danger",children:e.stock})})]},e._id))})]})})})]})})})]}):null}}]);